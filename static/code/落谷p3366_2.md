~~~c++
#include<bits/stdc++.h>
using namespace std;

const int maxn=5005;
int n,m;
int ans=0;

typedef struct
{
    int lowcost;
    int adjvex;
}Element;

void Prim(int arc[maxn][maxn],int w)
{
    int i,j,k;
    int Min;
    Element shortEdge[n+1];
    for(i=1;i <= n;i++)
    {
        shortEdge[i].lowcost=arc[w][i];
        shortEdge[i].adjvex=w;
    }
    shortEdge[w].lowcost=0;
    for(i=1;i <= n-1;i++)
    {
        Min=0x3f3f3f3f;
        for(j=1;j <= n;j++)
        {
            if((shortEdge[j].lowcost!=0)&&(shortEdge[j].lowcost < Min))
            {
                Min=shortEdge[j].lowcost;
                k=j;
            }
        }
        ans+=shortEdge[k].lowcost;
        shortEdge[k].lowcost=0;
        for(j=1;j<= n;j++)
        {
            if(arc[k][j]< shortEdge[j].lowcost)
            {
                shortEdge[j].lowcost=arc[k][j];
                shortEdge[j].adjvex=k;
            }
        }
    }
}

int main()
{
    int arc[maxn][maxn];
    int a,b,c;
    ans=0;
    cin>>n>>m;
    memset(arc,0x3f3f3f3f,sizeof arc);
    for(int i=0;i<m;i++)
    {
        cin>>a>>b>>c;
        if(arc[a][b]>c)
        {
            arc[a][b]=c;
            arc[b][a]=c;
        }
    }
    Prim(arc,1);
    cout<<ans<<endl;
    return 0;
}
