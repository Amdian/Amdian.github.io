I"°5
<p>å‰è¨€</p>

<p>æ™®é€šçš„ç´ æ•°ç­›æš´åŠ›çš„äºŒé‡å¾ªç¯çš„ç®—æ³•æ—¶é—´å¤æ‚åº¦æ˜¯O(n^2)ï¼Œç”¨sqrtçš„è¯å¯ä»¥ä¼˜åŒ–ä¸€ä¸‹ï¼Œç®—æ³•æ—¶é—´å¤æ‚åº¦å¯ä»¥æå‡ä¸€ä¸‹ï¼Œä½†æ˜¯æœ‰æ—¶å€™é‡åˆ°1e7çš„è¿˜æ˜¯æ— æ³•æ»¡è¶³ï¼Œæ—¶é—´å°±ä¼šè¶…æ—¶ã€‚</p>

<p>åŸƒæ°ç­›çš„ç®—æ³•æ—¶é—´å¤æ‚åº¦æ˜¯O(nloglogn)ã€‚</p>

<p>æ¬§æ‹‰ç­›çš„ç®—æ³•æ—¶é—´å¤æ‚åº¦æ˜¯O(n)ã€‚</p>

<p>æš´åŠ›ç­›æ³•ï¼ˆæœ€æœ´ç´ çš„ï¼‰</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1">#include&lt;iostream&gt;</span>
<span class="c1">#include&lt;cmath&gt;</span>
<span class="n">using</span> <span class="n">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="n">int</span> <span class="n">isprime</span><span class="p">(</span><span class="n">int</span> <span class="n">n</span><span class="p">){</span><span class="sr">//</span><span class="err">åˆ¤æ–­ç´ æ•°</span>
    <span class="n">int</span> <span class="n">i</span><span class="p">;</span>
    <span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">2</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;=</span><span class="n">n</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="n">i</span><span class="o">%</span><span class="n">n</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="mi">0</span><span class="p">;</span><span class="sr">//</span><span class="err">ä¸æ˜¯ç´ æ•°</span>    
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="mi">1</span><span class="p">;</span><span class="err">æ˜¯ç´ æ•°</span>
<span class="p">}</span>

<span class="n">void</span> <span class="n">prime</span><span class="p">(</span><span class="n">int</span> <span class="n">n</span><span class="p">){</span> <span class="sr">//</span><span class="err">å¯»æ‰¾ç´ æ•°</span>
    <span class="n">int</span> <span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">;</span>
    <span class="k">for</span><span class="p">(</span><span class="n">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">2</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;=</span><span class="n">n</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">for</span><span class="p">(</span><span class="n">int</span> <span class="n">j</span><span class="o">=</span><span class="mi">2</span><span class="p">;</span><span class="n">j</span><span class="o">&lt;</span><span class="n">i</span><span class="p">;</span><span class="n">j</span><span class="o">++</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">if</span><span class="p">(</span><span class="n">i</span><span class="o">%</span><span class="n">j</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="k">break</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
            <span class="n">cout</span><span class="o">&lt;&lt;</span><span class="no">i</span><span class="o">&lt;&lt;</span><span class="s2">" "</span><span class="p">;</span><span class="sh">
    }
}

int main()
{
    
    return 0;
}</span></code></pre></figure>

<p>ç”¨sqrtä¼˜åŒ–åçš„</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1">#include&lt;iostream&gt;</span>
<span class="c1">#include&lt;cmath&gt;</span>
<span class="n">using</span> <span class="n">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="n">int</span> <span class="n">isprime</span><span class="p">(</span><span class="n">int</span> <span class="n">n</span><span class="p">){</span><span class="sr">//</span><span class="err">åˆ¤æ–­ç´ æ•°</span>
    <span class="n">int</span> <span class="n">i</span><span class="p">;</span>
    <span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">2</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;=</span><span class="n">sqrt</span><span class="p">(</span><span class="n">n</span><span class="p">);</span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="n">i</span><span class="o">%</span><span class="n">n</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="mi">0</span><span class="p">;</span><span class="sr">//</span><span class="err">ä¸æ˜¯ç´ æ•°</span>    
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="mi">1</span><span class="p">;</span><span class="err">æ˜¯ç´ æ•°</span>
<span class="p">}</span>

<span class="n">int</span> <span class="n">main</span><span class="p">()</span>
<span class="p">{</span>
    
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span></code></pre></figure>

<p>åŸƒæ°ç­›
åŸç†ï¼šé¦–å…ˆå°†2åˆ°nèŒƒå›´å†…çš„æ•´æ•°è®°å½•ä¸‹æ¥ã€‚å…¶ä¸­2æ˜¯æœ€å°çš„ç´ æ•°ï¼Œå°†è¡¨ä¸­æ‰€æœ‰2çš„å€æ•°åˆ’å»ï¼Œè¡¨ä¸­å‰©ä¸‹çš„æœ€å°æ•°å­—å°±æ˜¯3ï¼Œå®ƒä¸èƒ½è¢«æ›´å°çš„æ•°æ•´é™¤äº†ï¼Œæ‰€ä»¥3ä¸ªç´ æ•°ï¼Œç„¶åå†å°†è¡¨ä¸­æ‰€æœ‰3çš„å€æ•°éƒ½åˆ’å»â€¦..ä»¥æ­¤ç±»æ¨ï¼ˆå¦‚æœè¡¨ä¸­å‰©ä½™çš„æœ€å°æ•°æ˜¯mï¼Œé‚£ä¹ˆmå°±æ˜¯ç´ æ•°ï¼Œç„¶åå°†è¡¨ä¸­æ‰€æœ‰mçš„å€æ•°éƒ½åˆ’å»ï¼‰ï¼Œåå¤æ“ä½œï¼Œå°±èƒ½ä¾æ¬¡æšä¸¾nä»¥å†…çš„ç´ æ•°ã€‚</p>

<p>ä¾‹å¦‚ï¼šæ±‚1~20ä¹‹å†…çš„ç´ æ•°</p>

<p>1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20</p>

<p>ç¬¬ä¸€è¶Ÿï¼šä»2å¼€å§‹ï¼Œå°†2çš„å€æ•°åˆ’å»ï¼Œ</p>

<p>2 3 5 7 9 11 13 15 17 19</p>

<p>ç¬¬äºŒè¶Ÿï¼šä»3å¼€å§‹ï¼Œå°†3çš„å€æ•°åˆ’å»</p>

<p>2 3 5 7 11 13 17 19</p>

<p>â€¦â€¦..</p>

<p>åé¢çš„åªè¦æ˜¯ç´ æ•°çš„å°±ä¸ä¼šè¿›è¡Œæ“ä½œï¼Œç›´æ¥è·³è¿‡ï¼Œä¸€å¼€å§‹æ—¶åˆå§‹åŒ–é»˜è®¤å…¨æ˜¯ç´ æ•°ã€‚</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1">#include&lt;iostream&gt;</span>
<span class="c1">#include&lt;cmath&gt;</span>
<span class="n">using</span> <span class="n">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="n">int</span> <span class="n">visit</span><span class="p">[</span><span class="n">maxn</span><span class="p">];</span>
<span class="n">void</span> <span class="no">Prime</span><span class="p">()</span>
<span class="p">{</span>
    <span class="k">for</span><span class="p">(</span><span class="n">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">maxn</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="o">/</span><span class="sr">/è¿›è¡Œåˆå§‹åŒ–ï¼Œéƒ½æ˜¯ç´ æ•°ï¼Œå€¼=0æ˜¯ç´ æ•°,å€¼=1ä¸æ˜¯ç´ æ•°
    {
        visit[i]=0;
    }
    visit[0]=visit[1]=1;/</span><span class="o">/</span><span class="mi">0</span><span class="err">å’Œ</span><span class="mi">1</span><span class="err">ä¸æ˜¯ç´ æ•°</span>
    <span class="k">for</span><span class="p">(</span><span class="n">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">2</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;=</span><span class="n">maxn</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">visit</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="o">/</span><span class="sr">/å¦‚æœæ˜¯ç´ æ•°
        {
            for(int j=i*i;j&lt;=maxn;j+=i)/</span><span class="o">/</span><span class="err">è¿›è¡Œå¾ªç¯æŠŠåé¢çš„å€æ•°éƒ½åˆ’å»</span>
            <span class="p">{</span>
                <span class="n">visit</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="n">int</span> <span class="n">main</span><span class="p">()</span>
<span class="p">{</span>
    
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span></code></pre></figure>

<p>æ¬§æ‹‰ç­›
åŸç†ï¼šåœ¨åŸƒæ°ç­›æ³•çš„åŸºç¡€ä¸Šï¼Œè®©æ¯ä¸ªåˆæ•°åªè¢«å®ƒçš„æœ€å°è´¨å› å­ç­›é€‰ä¸€æ¬¡ï¼Œä»¥è¾¾åˆ°ä¸é‡å¤çš„ç›®çš„</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1">#include&lt;iostream&gt;</span>
<span class="c1">#include&lt;cmath&gt;</span>
<span class="n">using</span> <span class="n">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="n">int</span> <span class="n">prime</span><span class="p">[</span><span class="n">maxn</span><span class="p">];</span><span class="sr">//</span><span class="n">prime</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="err">å¯ä»¥ç”¨æ¥è®¡æ•°ï¼Œä¹Ÿå¯ä»¥é¢å¤–å®šä¹‰ä¸€ä¸ªæ¥è®¡æ•°</span>
<span class="n">int</span> <span class="n">visit</span><span class="p">[</span><span class="n">maxn</span><span class="p">];</span>

<span class="n">void</span> <span class="no">Prime</span><span class="p">(){</span>
    <span class="k">for</span><span class="p">(</span><span class="n">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span> <span class="o">&lt;</span> <span class="n">maxn</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="o">/*</span><span class="err">è¿›è¡Œåˆå§‹åŒ–ï¼Œéƒ½æ˜¯ç´ æ•°ï¼Œå€¼</span><span class="o">=</span><span class="mi">0</span><span class="err">æ˜¯ç´ æ•°</span><span class="p">,</span><span class="err">å€¼</span><span class="o">=</span><span class="mi">1</span><span class="err">ä¸æ˜¯ç´ æ•°</span> <span class="o">*</span><span class="sr">//</span>
    <span class="p">{</span>
        <span class="n">visit</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
        <span class="n">prime</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">for</span><span class="p">(</span><span class="n">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">2</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;=</span><span class="n">maxn</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">visit</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="o">/*</span><span class="err">è®°å½•ç´ æ•°</span> <span class="o">*</span><span class="sr">/
        {
            prime[++prime[0]]=i;/</span><span class="o">/</span><span class="err">åŒæ—¶å­˜æ‰¾åˆ°çš„ç´ æ•°</span>
        <span class="p">}</span>
        <span class="k">for</span><span class="p">(</span><span class="n">int</span> <span class="n">j</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="n">j</span><span class="o">&lt;=</span><span class="n">prime</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="n">i</span><span class="o">*</span><span class="n">prime</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">&lt;=</span><span class="n">maxn</span><span class="p">;</span><span class="n">j</span><span class="o">++</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">visit</span><span class="p">[</span><span class="n">i</span><span class="o">*</span><span class="n">prime</span><span class="p">[</span><span class="n">j</span><span class="p">]]</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
            <span class="k">if</span><span class="p">(</span><span class="n">i</span><span class="o">%</span><span class="n">prime</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="k">break</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="n">int</span> <span class="n">main</span><span class="p">()</span>
<span class="p">{</span>
    
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span></code></pre></figure>

<p><img src="/static/img/algorithm/1.jpg" alt="1" width="70%" /></p>
:ET